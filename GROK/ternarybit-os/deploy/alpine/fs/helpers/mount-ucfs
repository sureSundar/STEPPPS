#!/bin/sh
# Usage: mount-ucfs <mountpoint> [--backing DIR] [--delim UTF8_CHAR]
set -eu
MP=${1:-}
shift || true
[ -n "$MP" ] || { echo "usage: mount-ucfs <mountpoint> [--backing DIR] [--delim UTF8_CHAR]"; exit 1; }
BACKING=/var/lib/ucfs
DELIM=Â·
while [ $# -gt 0 ]; do
  case "$1" in
    --backing) BACKING=$2; shift 2 ;;
    --delim) DELIM=$2; shift 2 ;;
    *) break ;;
  esac
done
mkdir -p "$MP" "$BACKING"
exec ucfs_fuse.py --backing "$BACKING" --delim "$DELIM" "$MP"
