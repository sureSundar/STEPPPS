# GRUB Configuration for TernaryBit OS
set timeout=5
set default=0

# Load video modules
insmod vbe
insmod vga
insmod video_bochs
insmod video_cirrus

# Set background and colors
set color_normal=white/black
set color_highlight=black/light-gray

# Main menu entry
menuentry "TernaryBit OS - Universal Operating System" {
    echo "Loading TernaryBit OS..."
    echo "Universal OS from Calculator to Supercomputer"
    echo ""

    # Load our kernel (which is our bootstrap)
    linux /boot/tbos_kernel
    echo "TernaryBit OS kernel loaded"

    # Load initial ramdisk with our OS
    initrd /boot/tbos_initrd
    echo "TernaryBit OS initrd loaded"

    echo "Booting TernaryBit OS..."
}

# Safe mode entry
menuentry "TernaryBit OS - Safe Mode" {
    echo "Loading TernaryBit OS in Safe Mode..."
    linux /boot/tbos_kernel safe
    initrd /boot/tbos_initrd
}

# Hardware detection mode
menuentry "TernaryBit OS - Hardware Detection Mode" {
    echo "Loading TernaryBit OS with detailed hardware detection..."
    linux /boot/tbos_kernel debug
    initrd /boot/tbos_initrd
}

# Java mode (for systems with Java)
menuentry "TernaryBit OS - Pure Java Mode" {
    echo "Loading TernaryBit OS in Pure Java Mode..."
    linux /boot/tbos_kernel java
    initrd /boot/tbos_initrd
}

# Memory test
menuentry "Memory Test" {
    echo "Running memory test..."
    linux16 /boot/memtest86+
}

# Reboot
menuentry "Reboot" {
    reboot
}

# Shutdown
menuentry "Shutdown" {
    halt
}