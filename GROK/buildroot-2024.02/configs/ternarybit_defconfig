# TernaryBit OS Buildroot Configuration
# Minimal Linux system optimized for TernaryBit bootloader integration

# Target Architecture
BR2_i386=y
BR2_ARCH="i386"

# Toolchain
BR2_TOOLCHAIN_BUILDROOT=y
BR2_TOOLCHAIN_BUILDROOT_GLIBC=y
BR2_PACKAGE_HOST_GDB=y

# Kernel
BR2_LINUX_KERNEL=y
BR2_LINUX_KERNEL_LATEST_VERSION=y
BR2_LINUX_KERNEL_USE_DEFCONFIG=y
BR2_LINUX_KERNEL_DEFCONFIG="i386"
BR2_LINUX_KERNEL_BZIMAGE=y
BR2_LINUX_KERNEL_INSTALL_TARGET=y

# System
BR2_SYSTEM_HOSTNAME="ternarybit"
BR2_SYSTEM_BANNER="Welcome to TernaryBit OS - STEPPPS Framework Active"
BR2_TARGET_GENERIC_HOSTNAME="ternarybit"
BR2_TARGET_GENERIC_ISSUE="TernaryBit OS \\n"
BR2_ROOTFS_POST_BUILD_SCRIPT="board/ternarybit/post_build.sh"
BR2_ROOTFS_OVERLAY="board/ternarybit/rootfs_overlay"

# Init system
BR2_INIT_BUSYBOX=y

# BusyBox
BR2_PACKAGE_BUSYBOX=y
BR2_PACKAGE_BUSYBOX_CONFIG="package/busybox/busybox.config"

# Essential packages
BR2_PACKAGE_DHCP=y
BR2_PACKAGE_DROPBEAR=y
BR2_PACKAGE_NANO=y
BR2_PACKAGE_VIM=y
BR2_PACKAGE_HTOP=y
BR2_PACKAGE_STRACE=y

# Development tools
BR2_PACKAGE_GDB=y
BR2_PACKAGE_GDB_SERVER=y
BR2_PACKAGE_LTRACE=y

# Disable Go to avoid conflicts
# BR2_PACKAGE_HOST_GO_BOOTSTRAP_STAGE1 is not set

# Network
BR2_PACKAGE_WIRELESS_TOOLS=y
BR2_PACKAGE_WPA_SUPPLICANT=y

# TernaryBit specific packages (comment out for now)
# BR2_PACKAGE_TERNARYBIT_TOOLS=y

# Filesystem
BR2_TARGET_ROOTFS_EXT2=y
BR2_TARGET_ROOTFS_EXT2_4=y
BR2_TARGET_ROOTFS_EXT2_SIZE="64M"

# Generate images suitable for TernaryBit bootloader
BR2_ROOTFS_POST_IMAGE_SCRIPT="board/ternarybit/post_image.sh"